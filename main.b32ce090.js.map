{"version":3,"sources":["scripts/main.js"],"names":["table","document","querySelector","count","target","tHead","addEventListener","happening","item","cell","cellIndex","row","i","rows","length","cellValuesArray","j","cells","valueOfCell","innerText","push","sort","a","b","ifIncludeNumber","convertToNumber","ifEven","localeCompare","itemCell","forEach","el","indexOfEl","tBodies","closest","children","classList","remove","add","form","createElement","className","append","nameAndTypeOfFormItem","innerHTML","map","capitalized","join","select","after","valueOfSelectOptions","button","string","filterResult","char","isFinite","Number","toUpperCase","slice","pushNotification","posTop","posRight","title","description","type","message","style","top","right","dataset","qa","position","setTimeout","allSpases","setAttribute","ev","preventDefault","tableTitleNameValue","childNodes","value","tableTitleAgeValue","ifFormFieldsIncludesEmptyValue","includes","insertRow","input","name","toLocaleString","reset","cellsList","querySelectorAll","itemOldValue","titleOfCell","appendChild","focus","code","blur"],"mappings":"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","file":"main.b32ce090.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\n\nlet count = 1;\nlet target = {};\n\ntable.tHead.addEventListener('click', (happening) => {\n  const item = happening.target;\n  const cell = item.cellIndex;\n  const row = [];\n\n  for (let i = 1; i < table.rows.length - 1; i++) {\n    const cellValuesArray = [];\n\n    for (let j = 0; j < table.rows[0].cells.length; j++) {\n      const valueOfCell = table.rows[i].cells[j].innerText;\n\n      cellValuesArray.push(valueOfCell);\n    }\n\n    row.push(cellValuesArray);\n  }\n\n  if (target.innerText !== item.innerText) {\n    count = 1;\n  }\n\n  row.sort((a, b) => {\n    const ifIncludeNumber = convertToNumber(a[cell]);\n    const ifEven = count % 2 === 1;\n\n    if (ifIncludeNumber) {\n      return ifEven\n        ? convertToNumber(a[cell]) - convertToNumber(b[cell])\n        : convertToNumber(b[cell]) - convertToNumber(a[cell]);\n    }\n\n    return ifEven\n      ? a[cell].localeCompare(b[cell])\n      : b[cell].localeCompare(a[cell]);\n  });\n\n  for (let i = 1; i < table.rows.length - 1; i++) {\n    const itemCell = table.rows[i].cells;\n\n    [...itemCell].forEach((el, indexOfEl) => {\n      el.innerText = row[i - 1][indexOfEl];\n    });\n  }\n  count++;\n  target = item;\n});\n\ntable.tBodies[0].addEventListener('click', (happening) => {\n  const item = happening.target.closest('tr');\n\n  [...table.tBodies[0].children].forEach(el => el.classList.remove('active'));\n  item.classList.add('active');\n});\n\nconst form = document.createElement('form');\n\nform.className = 'new-employee-form';\n\ndocument.querySelector('body').append(form);\n\nconst nameAndTypeOfFormItem = [\n  ['name', 'text'],\n  ['position', 'text'],\n  ['age', 'number'],\n  ['salary', 'number'],\n];\n\nform.innerHTML = nameAndTypeOfFormItem.map(item => `\n  <label>${capitalized(item[0])}: \n  <input name=${item[0]} type=${item[1]} data-qa=${item[0]} required>\n  </label>\n`).join('');\n\nconst select = document.createElement('label');\n\nform.children[1].after(select);\n\nconst valueOfSelectOptions = [\n  `Tokyo`,\n  `Singapore`,\n  `London`,\n  `New York`,\n  `Edinburgh`,\n  `San Francisco`,\n];\n\nselect.innerHTML = `Office:\n<select name='office' data-qa='office' required>\n${valueOfSelectOptions.map(item => `<option value=${item}>${item}</option>\n`)}\n</select>\n`;\n\nconst button = document.createElement('button');\n\nbutton.innerText = 'Save to table';\nbutton.setAttribute('type', 'submit');\nform.append(button);\n\nform.addEventListener('submit', (ev) => {\n  ev.preventDefault();\n\n  const tableTitleNameValue = form.children[0].childNodes[1].value;\n  const tableTitleAgeValue = form.children[3].childNodes[1].value;\n\n  if (tableTitleNameValue.length < 4) {\n    pushNotification(\n      10,\n      10,\n      'Error!',\n      'Name must be longer than three characters',\n      'error'\n    );\n\n    return;\n  }\n\n  if (tableTitleAgeValue < 18\n    || tableTitleAgeValue > 90) {\n    pushNotification(\n      10,\n      10,\n      'Error!',\n      'Sorry, but the age value does not fit. Value must be between 18 and 90',\n      'error'\n    );\n\n    return;\n  }\n\n  const ifFormFieldsIncludesEmptyValue = [...form.children]\n    .slice(0, -1)\n    .map(el => allSpases(el.childNodes[1].value))\n    .includes(true);\n\n  if (ifFormFieldsIncludesEmptyValue) {\n    pushNotification(\n      10,\n      10,\n      'Error!',\n      'All form fields must be filled!',\n      'error'\n    );\n\n    return;\n  }\n\n  const row = table.tBodies[0].insertRow();\n\n  for (let i = 0; i < table.rows[0].cells.length; i++) {\n    const cell = document.createElement('td');\n    const input = form.children[i].childNodes[1];\n\n    cell.innerText = input.name === 'salary'\n      ? '$'\n        + Number(input.value).toLocaleString('en-US')\n      : input.value;\n    row.append(cell);\n  }\n\n  form.reset();\n\n  pushNotification(\n    10,\n    10,\n    'Success!',\n    'Employee has been added to the list!',\n    'success');\n});\n\ntable.tBodies[0].addEventListener('dblclick', (happening) => {\n  const cellsList = document.querySelectorAll('td');\n\n  [...cellsList].forEach(el => {\n    if (el.children[0]) {\n      el.children[0].remove();\n    }\n  });\n\n  const item = happening.target.closest('td');\n  const itemOldValue = item.innerText;\n  const input = document.createElement('input');\n\n  input.className = 'cell-input';\n\n  const cellIndex = item.cellIndex;\n  const titleOfCell = table.rows[0].cells[cellIndex].innerText;\n\n  if (titleOfCell === 'Salary'\n  || titleOfCell === 'Age') {\n    input.type = 'number';\n  }\n  item.innerText = '';\n\n  item.appendChild(input);\n  input.focus();\n\n  input.addEventListener('blur', (ev) => {\n    const i = ev.target.closest('td');\n\n    if ((input.value < 18\n      || input.value > 90)\n      && titleOfCell === 'Age') {\n      pushNotification(\n        10,\n        10,\n        'Error!',\n        'Sorry, but the age value does not fit.'\n        + 'Value must be between 18 and 90. Try again!',\n        'error'\n      );\n\n      input.value = '';\n    }\n\n    if (input.value.length < 4\n      && titleOfCell === 'Name') {\n      pushNotification(\n        10,\n        10,\n        'Error!',\n        'Name must be longer than three characters. Try again!',\n        'error'\n      );\n\n      input.value = '';\n    }\n\n    if (allSpases(input.value)) {\n      i.innerText = itemOldValue;\n\n      return;\n    }\n\n    i.innerText = !input.value\n      ? itemOldValue\n      : titleOfCell === 'Salary'\n        ? '$'\n        + Number(input.value).toLocaleString('en-US')\n        : input.value;\n  });\n\n  input.addEventListener('keydown', (ev) => {\n    if (ev.code === 'Enter' || ev.code === 'NumpadEnter') {\n      input.blur();\n    }\n  });\n});\n\nfunction convertToNumber(string) {\n  let filterResult = '';\n\n  for (const char of string) {\n    if (isFinite(char)) {\n      filterResult += char;\n    }\n  }\n\n  return Number(filterResult);\n}\n\nfunction capitalized(string) {\n  return string[0].toUpperCase() + string.slice(1);\n}\n\nfunction pushNotification(posTop, posRight, title, description, type) {\n  const message = document.createElement('div');\n\n  message.classList.add('notification', `${type}`);\n\n  document.querySelector('body').append(message);\n\n  message.style.top = `${posTop}` + 'px';\n  message.style.right = `${posRight}` + 'px';\n  message.dataset.qa = 'notification';\n  message.style.position = 'fixed';\n\n  message.innerHTML = `<h2 class = \"title\">${title}</h2>\\n\n  <p>${description}</p>`;\n  setTimeout(() => message.remove(), 2000);\n};\n\nfunction allSpases(string) {\n  for (const char of string) {\n    if (char !== ' ') {\n      return false;\n    }\n  }\n\n  return true;\n}\n"]}